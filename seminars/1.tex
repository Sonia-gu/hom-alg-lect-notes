\documentclass[../main.tex]{subfiles}
\begin{document}
\section{Введение, комплекс, резольвента, проективный объект}
Рассмотрим следующую задачу. Пусть есть какое-то поле $k$ и кольцо многочленов над ним $R=k[x_1, \ldots, x_n]$. Дана система уравнений с элементами из кольца
\begin{equation*}
    \sum_i a_{ij}y_i = 0, \quad a_{ij}\in R.
\end{equation*}
Множеством решений этой системы будет какой-то модуль $M$, определяющийся своими образующими и соотношениями. Соотношения, вообще говоря, могут быть достаточно сложно устроены. Предлагается воспользоваться следующим фактом.
\begin{to_suj}\label{free_factor}
Любой модуль --- это фактормодуль свободного модуля.
\end{to_suj}
Иначе говоря, существует свободный модуль $F_1$ вместе с эпиморфизмом $f_1:F_1\to M$. Соотношения образующих тогда будут определяться ядром $\Ker f_1$ этого самого эпиморфизма. Однако данное ядро может быть также сложно устроено. Повторим процесс и накроем и $\Ker f_1$ свободным модулем. Продолжая получим набор \emph{коротких точных} последовательностей.
\begin{equation}\label{equation_short_exact}
\begin{tikzcd}
	0 & {\Ker f_1} & {F_1} & M & 0 \\
	0 & {\Ker f_2} & {F_2} & {\Ker f_1} & 0 \\
	0 & {\Ker f_3} & {F_3} & {\Ker f_2} & 0 \\
	\ldots & {} & {}
	\arrow[from=1-4, to=1-5]
	\arrow["{f_1}", two heads, from=1-3, to=1-4]
	\arrow[from=1-2, to=1-3]
	\arrow[from=2-4, to=2-5]
	\arrow["{f_2}", two heads, from=2-3, to=2-4]
	\arrow[from=2-2, to=2-3]
	\arrow[from=3-4, to=3-5]
	\arrow["{f_3}", two heads, from=3-3, to=3-4]
	\arrow[from=3-2, to=3-3]
	\arrow[from=3-1, to=3-2]
	\arrow[from=2-1, to=2-2]
	\arrow[from=1-1, to=1-2]
\end{tikzcd}
\end{equation}
Этот процесс повторять будем до тех пор, пока не получим $\Ker f_- = F_-$. Вопрос состоит в том сколько раз придётся повторить это. Ответ даёт следующая теорема.
\begin{to_thr}[Теорема Гильберта о сизигиях]
Для кольца многочленов от $n$ переменных свободная резольвента имеет длину не более $n$. 
\end{to_thr}
Таким образом, модулю решений нашего уравнения можно сопоставить \emph{длинную точную} последовательность, называющуюся свободной (состоящей из свободных модулей) \emph{резольвентой} модуля $M$.
\begin{equation}\label{free_res_hilb}
    \begin{tikzcd}
	0 & {F_{n}} & {F_{n-1}} & \ldots & {F_0} & M & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-5, to=1-6]
	\arrow[from=1-6, to=1-7]
\end{tikzcd}
\end{equation}
То, что мы по сути сделали --- это "приблизили" наш сложно устроеннный модуль $M$ простыми свободными модулями $F_i$.
Приведём обобщение этих рассуждений и введём необходимые определения.
\begin{to_def}\label{complex}
Пусть $\A$ --- абелева категория. Её категорией комплексов $Kom(\A)$ называется категория, объекты в которой --- цепные комплексы --- последовательности объектов и морфизмов (дифференциалов) $(K^i, d^i)$
\begin{equation*}
    \begin{tikzcd}
	\ldots & {K^{i-1}} & {K^i} & {K^{i+1}} & \ldots
	\arrow[from=1-1, to=1-2]
	\arrow["{d^{i-1}}", from=1-2, to=1-3]
	\arrow["{d^i}", from=1-3, to=1-4]
	\arrow["{d^{i+1}}", from=1-4, to=1-5]
\end{tikzcd}
\end{equation*}
где $d^{i+1}\circ d^{i} = 0$ $(\Im d^i \subset \Ker d^{i+1})$. Комплекс с возрастающей индексацией (как выше) называется когомологическим. Соответственно с убывающей --- гомологическим. Морфизмы $\Hom_{Kom(\A)}((K^\bullet, d^\bullet_K), (L^\bullet, d^\bullet_L))$ --- наборы морфизмов $f^i \in \Hom_\A(K^i, L^i)$, делающие следующую диаграмму коммутативной.
\begin{equation}\label{komplex_morphisms}
\begin{tikzcd}
	\ldots & {K^{i-1}} & {K^i} & {K^{i+1}} & \ldots \\
	{...} & {L^{i-1}} & {L^i} & {L^{i+1}} & {...}
	\arrow[from=1-1, to=1-2]
	\arrow["{d^{i-1}_K}", from=1-2, to=1-3]
	\arrow["{d^i_K}", from=1-3, to=1-4]
	\arrow["{d^{i+1}_K}", from=1-4, to=1-5]
	\arrow["{f^{i-1}_K}", from=1-2, to=2-2]
	\arrow[from=2-1, to=2-2]
	\arrow["{d^{i-1}_L}"', from=2-2, to=2-3]
	\arrow["{d^i}_L"', from=2-3, to=2-4]
	\arrow["{d^{i+1}_L}"', from=2-4, to=2-5]
	\arrow["{f^{i}}", from=1-3, to=2-3]
	\arrow["{f^{i+1}}", from=1-4, to=2-4]
\end{tikzcd}
\end{equation}
$Kom^\le(\A), Kom^\ge(\A), Kom^b(\A)$ соответственно обозночают ограниченные справа, слева, с двух сторон комплексы.
\end{to_def}
Естественный вопрос, который можно задать к определению \ref{complex} --- выполняется ли $\Im d^i = \Ker d^{i+1}$ (тогда комплекс --- точная последовательность) и если невыполняется, то насколько. Ответ на этот вопрос даёт следующее определение.
\begin{to_def}
Назовём 
\begin{itemize}
\item кограницей комплекса $B^i(K^\bullet) = \Im d^{i-1}$.
\item коциклом комплекса $Z^i(K^\bullet) = \Ker d^{i}$.
\item когомологией комплекса $H^i(K^\bullet) = Z^i(K^\bullet)/B^i(K^\bullet)$
\end{itemize}
Комплекс с нулевыми когомологиями будем называть ацикличным.\footnote{Таким образом, когомологии --- мера неточности комплекса. }
\end{to_def}
По существу, мы определили функторы из категории комплексов $Kom(\A)$ в $\A$. Это следствие того, что морфизмы в $Kom(\A)$ переводят кограницы (коциклы) в кограницы (коциклы), т. к. диаграмма \eqref{komplex_morphisms} коммутирует. Соответственно любой морфизм $f\in \Hom_{Kom(\A)}$ индуцирует морфизмы на когомологиях $f^*$.
Кроме того, существует функтор естественного вложения, который объекту $A \in \mathbf{Ob}(\A)$ сопоставляет комплекс с объектом $A$ в нулевом члене.
\begin{equation*}
    \begin{tikzcd}[sep=small]
	{\F:} & \A & {} & {Kom(\A)} \\
	{} & a & \ldots & 0 & a & 0 & \ldots \\
	&&&& {H^0(\F(a))}
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=2-5, to=2-6]
	\arrow[from=2-6, to=2-7]
	\arrow[Rightarrow, no head, from=2-5, to=3-5]
	\arrow[maps to, from=2-2, to=2-3]
	\arrow[from=1-2, to=1-4]
\end{tikzcd}
\end{equation*}
Из вида функтора очевидно существование естественного изоморфизма $H^0\circ \F \cong id_{\A}$. Отсюда следует
\begin{to_suj}
$\A$ --- полная подкатегория в $Kom(\A)$.\footnote{доказательство см. \ref{full_i}}
\end{to_suj}
Теперь вернемся к исходной задаче. Выбор резольвенты \eqref{free_res_hilb} в общем случае не единственный. Поэтому мы хотим каким-то образом отождествить объект со \emph{всеми} его резольвентами. Для этого просто запишем морфизм в крайний член \ref{free_res_hilb} в виде морфизма комплексов
\begin{equation*}
    \begin{tikzcd}
	0 & {F_{n}} & \ldots & {F_1} & {F_0} & 0 \\
	0 & 0 & \ldots & 0 & M & 0
	\arrow[from=1-6, to=2-6]
	\arrow["\varepsilon"', from=1-5, to=2-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-5, to=1-6]
	\arrow[from=2-5, to=2-6]
	\arrow[from=2-4, to=2-5]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-1, to=2-2]
\end{tikzcd}
\end{equation*}
Теперь зададимся вопросом: что между двумя получившемися комплексами общего? Про комплекс $\F(M)$ мы знаем все. Он точен везде, кроме нулевого члена, а в нулевом члене его когомология $M$. Верхний комплекс по построению также точен везде, кроме нулевого члена. А в нулевом члене его кограница $\Im 0 = 0$, коцикл $\Ker d^2_F = \Im \varepsilon = M$, т. к. исходная резольвента \eqref{free_res_hilb} точна. Отсюда $H^0(F^\bullet) = M$. Тогда индуцированный морфизм на когомологиях $\varepsilon^* = Id_M$ --- изоморфизм. В таком случае мы называем $\varepsilon$ квазиизоморфизмом.
\begin{to_def}
Морфизм $f\in \Hom_{Kom(\A)}$ называется квазиизоморфизмом, если его индуцированные морфизмы $f^*$ на когомологиях --- изоморфизмы.
\end{to_def}
\begin{to_suj}\label{obj_res_eq}
В абелевой категории объект квазиизоморфен всем своим резольвентам.
\end{to_suj}
Логично было бы тогда отождествлять объект с резольвентами при помощи квазиизоморфизма. Проблема в том, что последний отношением эквивалентности не является, поэтому необходимо рассматривать другую категорию (производную), в которой все квазиизоморфизмы являются изоморфизмами и, следовательно, квазиизоморфность --- отношение эквивалентности.
Приведём пример, почему квазиизоморфизмы не являются отношением эквивалентности.
\begin{to_ex}
В категории $\Z$-mod проективная резольвента $\Z_2$ может выглядеть следующим образом:
\begin{equation*}
    \begin{tikzcd}
	0 & \Z & \Z & {\Z_2} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["2\cdot", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\end{equation*}
Рассматривая соответствующий связующий квазиизоморфизм
\begin{equation*}
    \begin{tikzcd}
	0 & \Z & \Z & 0 \\
	0 & 0 & {\Z_2} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["2\cdot", from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
\end{tikzcd}
\end{equation*}
получаем, что $\Z_2$ квазиизоморфен своей резольвенте. Но не существует нетривиального морфизма $\Z_2\to \Z$, откуда резольвента не квазиизоморфна $\Z_2$. Т. е. нарушена симметричность.
\end{to_ex}
На самом деле нарушена и транзитивность. Действительно, пусть существуют два квазиизоморфизма $K^\bullet \to L^\bullet$ и $U^\bullet \to L^\bullet$. Но никто не гарантирует, что существует квазиизоморфизм $K^\bullet\to L^\bullet$, ведь обращать мы эти морфизмы в общем случае не можем.
\textbf{Рассмотрим теперь другую задачу.} Пусть дан точный слева функтор между абелевыми категориями $F:\A \to \mathcal{B}$ и короткая точная последовательность из $\A$.
\begin{equation*}
\begin{tikzcd}
	0 & A & B & C & 0 \\
	0 & {\F(A)} & {\F(B)} & {\F(C)} & {\ldots ?}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow["\F", Rightarrow, from=1-3, to=2-3]
\end{tikzcd}
\end{equation*}
После применения функтора $F$ ноль справа исчезнет. Задача следующая: можно ли как-то канонически точно продолжить получившуюся последовательность вправо?
Для начала упростим задачу, задавшись подобным вопросом для конкретного функтора: функтора $\Hom_\A(P, \cdot)$. Когда он точен?. Ответ такой: он точен тогда и только тогда, когда $P$ --- \emph{проективный объект}.
\begin{to_def}
Объект $P$ категории $\A$ называется проективным, если для любого эпиморфизма $\pi: A\to B$ с морфизмом $p:P\to B$ существует морфизм, делающий диаграмму ниже коммутативной.
\begin{equation}\label{projective_def_diagram}
\begin{tikzcd}
	& P \\
	A & B
	\arrow["\pi", two heads, from=2-1, to=2-2]
	\arrow["p"', from=1-2, to=2-2]
	\arrow["\exists"', dashed, from=1-2, to=2-1]
\end{tikzcd}
\end{equation}
\end{to_def}
\begin{to_suj}\label{home_exact_proj}
Функтор $\Hom(P, \cdot)$ точен $\iff$ $P$ --- проективный объект.
\end{to_suj}
\begin{proof}
Докажем сначала, что функтор $\Hom(P, \cdot)$ всегда точен слева. Пусть последовательность
\begin{equation*}
    \begin{tikzcd}
	0 & A & B & C & 0
	\arrow[from=1-1, to=1-2]
	\arrow["a"', from=1-2, to=1-3]
	\arrow["b"', from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\end{equation*}
точна. Докажем точность следующей последовательности.
\begin{equation*}
    \begin{tikzcd}
	0 & {\Hom(P, A)} & {\Hom(P, B)} & {\Hom(P, C)}
	\arrow[from=1-1, to=1-2]
	\arrow["b\circ"', from=1-3, to=1-4]
	\arrow["a\circ"', from=1-2, to=1-3]
\end{tikzcd}
\end{equation*}
 Пусть $a\circ f:P\to B$ равна нулю. Но т. к. $a$ --- мономорфизм из точности исходной последовательности, то и $f=0$, откуда $a\circ$ --- инъективный. Это доказывает точность в первом члене.
Из точности исходной последовательности $b\circ a \circ f = 0$ для любого морфизма $f:P\to A$. Это доказывает вложение $\Im a\circ \subset \Ker b\circ$. Пусть теперь $f \in \Ker b\circ$. В исходной точной последовательности $A = \Ker b$ и по универсальному свойству ядра существует единственный морфизм $f'$, делающий следующую диаграмму коммутативной.
 \begin{equation}\label{projective_diagram}
     \begin{tikzcd}
	&& P \\
	0 & A & B & C
	\arrow["f"', from=1-3, to=2-3]
	\arrow["b"', from=2-3, to=2-4]
	\arrow["a"', from=2-2, to=2-3]
	\arrow["{f'}"{description}, from=1-3, to=2-2]
	\arrow[from=2-1, to=2-2]
	\arrow["0", from=1-3, to=2-4]
\end{tikzcd}
 \end{equation}
Отсюда любой $f\in \Ker b\circ$ поднимается до $f' \in \Hom(P, A)$, что доказывает вложение $\Ker b\circ \subset \Im a\circ$ и, следовательно, точность во втором члене.
Докажем, что $\Hom(P, -)$ --- точный $\iff$ $P$ --- проективный. Если $P$ --- проективный. В левую сторону это очевидно: если $P$ --- проективный, то любой морфизм из $\Hom (P, C)$ поднимается до морфизма из $\Hom (P, B)$ по определению проективного обхекта. Обратно, если $\Hom(P, -)$ точный, то применяя его к точной последовательности $A\to B \to 0$ получим, что для любого морфизма $p\in \Hom(P, B)$ будет морфизм из $\Hom(P, A)$, делающий диаграмму \eqref{projective_diagram} коммутативной.
\end{proof}
Встает также вопрос о том, как выглядят проективные объекты в интересующей нас категории $R-mod$. Ответ дает следующий критерий.
\begin{to_suj}\label{projective_modules_criterion}
В категории $R-mod$ $P$ --- проективный $\iff$ существует $M$ такой, что $M\oplus P$ --- свободный модуль.
\end{to_suj}
\begin{to_com}
Если $P$ --- свободный, то, очевидно, он и проективный. Действительно, достаточно тогда задать искомый морфизм в \eqref{projective_def_diagram} на образующих. Может возникнуть мысль, что только такие модули проективными и будут. Приведём контрпример.
\end{to_com}
\begin{to_ex}[Проективный несвободный модуль]
Рассмотрим категорию $\Z/6\Z-mod$. Само по себе $R = \Z/6\Z$ является, кроме кольца, $R-$модулем над собой. Более того, он свободный как $R-$модуль. Вспомним разложение
\begin{equation*}
    \Z/6\Z \cong \Z/3\Z \oplus \Z/2\Z,
\end{equation*}
где ни $\Z/3\Z$, ни $\Z/2\Z$ свободными как $R-$модули не являются. Однако по критерию \ref{projective_modules_criterion} оба будут проективными.
\end{to_ex}
\begin{proof}[Доказательство предложения \ref{projective_modules_criterion}]
    ($\Rightarrow$) По предложению \ref{free_factor} $P$ накрывается свободным модулем. Вспомним тогда диаграмму \eqref{projective_def_diagram}.
    \begin{equation*}
        \begin{tikzcd}
	& P \\
	F & P
	\arrow["g"', two heads, from=2-1, to=2-2]
	\arrow["id", from=1-2, to=2-2]
	\arrow["{\exists f}"', dotted, from=1-2, to=2-1]
\end{tikzcd}
    \end{equation*}
    И получим существование свободного модуля $F$ с парой морфизмов $f, g$, дающих $gf=id_M$. Покажем, что $F\cong P\oplus M$, где $M$ --- какой-то $R$-модуль. Предлагается использовать следующее утверждение.
    \begin{to_suj}[Splitting lemma]
    Пусть дана короткая точная последовательность.
    \begin{equation*}
        \begin{tikzcd}
	0 & A & B & C & 0
	\arrow[from=1-1, to=1-2]
	\arrow["a", from=1-2, to=1-3]
	\arrow["b", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
    \end{equation*}
    $B\cong A\oplus C$ тогда и только тогда, когда существует $g$ такой, что $g\circ a = id$ или $b\circ g = id$.
    \end{to_suj}
    В нашем случае применение этого утверждения к точной последовательности ниже даёт $P\oplus \Ker f \cong F$.
    \begin{equation*}
        \begin{tikzcd}
	0 & {\Ker g} & F & P & 0
	\arrow[from=1-1, to=1-2]
	\arrow[hook, from=1-2, to=1-3]
	\arrow["g"', two heads, from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow["f"', bend right, from=1-4, to=1-3]
\end{tikzcd}
    \end{equation*}
($\Leftarrow$) Пусть $P\oplus M$ --- свободный модуль, $\pi: P\oplus M \to P$ --- каноническая проекция. Выше мы отметили, что для свободного модуля утверждение очевидно. Тогда $f\pi$ поднимается до $h:P\oplus M \to A$. Применим каноническое вложение бипроизведения $i$ и получим $f\pi i = ghi$, откуда $f = ghi$ и $hi$ --- искомый морфизм.
    \begin{equation*}
        \begin{tikzcd}
	{M\oplus P} & P \\
	A & B
	\arrow["g"', two heads, from=2-1, to=2-2]
	\arrow["f", from=1-2, to=2-2]
	\arrow["\pi", two heads, from=1-1, to=1-2]
	\arrow["i", bend right=90, hook', from=1-2, to=1-1]
	\arrow["h", from=1-1, to=2-1]
	\arrow["f\pi"{description}, from=1-1, to=2-2]
\end{tikzcd}
    \end{equation*}
\end{proof}
Понятие, двойственное проективному объекту --- инъективный объект.
\begin{to_def}\label{injective_def}
Объект $I$ называется инъективным, если для любых двух объектов с мономорфизмом $i:A\to B$ и морфизмом $p:A\to I$ существует морфизм $B\to I$, делающий диаграмму ниже коммутативной.
\begin{equation}\label{injective_def_diagram}
\begin{tikzcd}
	& I \\
	A & B
	\arrow["i", hook, from=2-1, to=2-2]
	\arrow["p", from=2-1, to=1-2]
	\arrow["\exists"', dashed, from=2-2, to=1-2]
\end{tikzcd}
\end{equation}
\end{to_def}
Соответствующее двойственное утверждение.
\begin{to_suj}
Функтор $\Hom(-, I)$ --- точен $\iff$ $I$ --- инъективный.
\end{to_suj}
\end{document}